const dropdownButton=document.querySelector(".dropdown__button"),dropdownButtonText=document.querySelector(".dropdown__button-text"),dropdown=document.querySelector(".dropdown__inner"),dropdownOptions=document.getElementsByClassName("dropdown__option");for(let o of dropdownOptions)o.addEventListener("click",selectOption,!1);function selectOption(o){o.preventDefault(),dropdownButtonText.innerHTML=this.innerHTML,dropdown.classList.remove("dropdown__inner_open");let n=document.querySelector(".dropdown__option_active");n&&n.classList.remove("dropdown__option_active"),this.classList.add("dropdown__option_active")}dropdownButton.addEventListener("click",function(o){o.preventDefault(),dropdown.classList.toggle("dropdown__inner_open")});
const menuNavOpen=document.querySelector(".button-burger"),menuNavClose=document.querySelector(".button-close"),menuNav=document.querySelector(".main-nav"),menuNavInner=document.querySelector(".main-nav__inner");function toggleMainNav(){menuNavInner.classList.toggle("main-nav__inner_hidden"),menuNav.classList.toggle("main-nav__hidden")}menuNavOpen.addEventListener("click",toggleMainNav),menuNavClose.addEventListener("click",toggleMainNav);
const devicesLight=document.getElementsByClassName("light"),devicesFloor=document.getElementsByClassName("floor"),devicesTemp=document.getElementsByClassName("temp"),modalDevices=document.getElementsByClassName("modal__device"),modalDeviceLight=document.querySelector(".device_light"),modalDeviceFloor=document.querySelector(".device_floor"),modalDeviceTemp=document.querySelector(".device_temp");let popup=document.querySelector(".modal"),page=document.querySelector(".page"),popupDecline=document.querySelector(".modal__button_decline"),popupAccept=document.querySelector(".modal__button_accept");popupDecline.addEventListener("click",()=>{togglePopup();for(let e of modalDevices)e.classList.remove("modal__device_open")}),popupAccept.addEventListener("click",()=>{togglePopup();for(let e of modalDevices)e.classList.remove("modal__device_open")});for(let e of devicesFloor)e.addEventListener("click",()=>{togglePopup(),modalDeviceFloor.classList.add("modal__device_open"),initInteractive()});for(let e of devicesLight)e.addEventListener("click",()=>{togglePopup(),modalDeviceLight.classList.add("modal__device_open")});for(let e=0;e<devicesTemp.length;e++)devicesTemp[e].addEventListener("click",()=>{togglePopup(),modalDeviceTemp.classList.add("modal__device_open")});function togglePopup(){popup.classList.toggle("modal_active"),page.classList.toggle("blur")}function initInteractive(){const e=document.querySelector(".circle-enabled"),t=document.querySelector(".regulator_triangle"),o=document.querySelector(".regulator_text"),l=document.querySelector(".hidden-scroll__wrap");l.addEventListener("scroll",function(){a=100*l.scrollTop/i,n=526*a/100,p=124*a/100,m=Math.round(a*d/100+c),e.style.strokeDasharray=`${n}, 625`,t.style.setProperty("--pos",`${p}grad`),o.innerHTML=`+${m}`});const c=20,d=35-c,r=100*(23-c)/d,i=l.scrollHeight-l.clientHeight;let s=Math.round(i*r/100),a=r;l.scrollTo({top:s}),e.style.strokeDasharray=`${526*r/100}, 625`;let n=526*r/100,p=124*r/100;t.style.setProperty("--pos",`${p}grad`);let m=a*d/100+c;o.innerHTML=`+${m}`}
const valueCurrent=document.querySelector(".value-current__numbers");function updateTextInput(e){valueCurrent.innerHTML=parseInt(e)>0?`+${e}`:e}
const block=document.querySelector(".scrollable__wrap-scroll"),scrollArrows=document.querySelector(".main__scrollable__arrows");block.addEventListener("scroll",function(){scrollArrows.classList.remove("arrows_visible")});const scroll=document.querySelector(".devices__scrollable"),wrapScroll=document.querySelector(".devices__scrollable__wrap-scroll"),contentScroll=document.querySelector(".devices__scrollable__content"),leftArrow=document.querySelector(".arrow_left"),rightArrow=document.querySelector(".arrow_right"),travelDistance=150;function setOverflowAttr(){scroll.setAttribute("data-overflowing",determineOverflow(wrapScroll,contentScroll))}function determineOverflow(e,r){const t=e.getBoundingClientRect(),l=Math.floor(t.right),o=Math.floor(t.left),c=r.getBoundingClientRect(),n=Math.floor(c.right),s=Math.floor(c.left);return o>s&&l<n?"both":s<o?"left":n>l?"right":"none"}document.addEventListener("DOMContentLoaded",()=>{setOverflowAttr()}),wrapScroll.addEventListener("scroll",setOverflowAttr),leftArrow.addEventListener("click",function(){const e=determineOverflow(wrapScroll,contentScroll);"left"!==e&&"both"!==e||(wrapScroll.scrollLeft=wrapScroll.scrollLeft-150),scroll.setAttribute("data-overflowing",e)}),rightArrow.addEventListener("click",function(){const e=determineOverflow(wrapScroll,contentScroll);"right"!==e&&"both"!==e||(wrapScroll.scrollLeft=wrapScroll.scrollLeft+150),scroll.setAttribute("data-overflowing",e)});